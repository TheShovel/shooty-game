{"framerate":0,"highQualityPen":true,"maxClones":9999999999,"fencing":false,"miscLimits":false,"stageWidth":640,"loadingScreen":{"progressBar":false,"text":"","imageMode":"normal","image":null},"penguinmod":{"permissionManager":{"unsandboxedJavascript":true,"enabled":false}},"turbo":false,"interpolation":false,"stageHeight":360,"resizeMode":"preserve-ratio","autoplay":true,"username":"player####","closeWhenStopped":false,"projectId":"p4-@swordFight.pmp","custom":{"css":"","js":""},"appearance":{"background":"#000000","foreground":"#ffffff","accent":"#00c3ff"},"controls":{"greenFlag":{"enabled":false},"stopAll":{"enabled":false},"fullscreen":{"enabled":false},"pause":{"enabled":false}},"monitors":{"editableLists":false,"variableColor":"#ff8c1a","listColor":"#fc662c"},"compiler":{"enabled":true,"warpTimer":false},"packagedRuntime":true,"target":"html","app":{"icon":null,"packageName":"swordfight","windowTitle":"Shooty game","windowMode":"window","version":"1.0.0"},"chunks":{"gamepad":false,"pointerlock":false},"cloudVariables":{"mode":"ws","cloudHost":"wss://clouddata.turbowarp.org","custom":{},"specialCloudBehaviors":false,"unsafeCloudBehaviors":false},"cursor":{"type":"auto","custom":null,"center":{"x":0,"y":0}},"extensions":["https://extensions.turbowarp.org/Lily/TempVariables2.js","data:text/javascript;base64,dmFyIGNvdW50ID0gMAp2YXIgaXNNZWFzdXJlID0gZmFsc2UKdmFyIHRpbWUgPSAwCi8qCVRoaXMgd29yayBpcyBsaWNlbnNlZCB1bmRlciBDcmVhdGl2ZSBDb21tb25zIEdOVSBMR1BMIExpY2Vuc2UuCgoJTGljZW5zZTogaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbGljZW5zZXMvTEdQTC8yLjEvCiAgIFZlcnNpb246IDAuOQoJQXV0aG9yOiAgU3RlZmFuIEdvZXNzbmVyLzIwMDYKCVdlYjogICAgIGh0dHA6Ly9nb2Vzc25lci5uZXQvIAoqLwpmdW5jdGlvbiB4bWwyanNvbih4bWwsIHRhYikgewogIHZhciBYID0gewogICAgIHRvT2JqOiBmdW5jdGlvbih4bWwpIHsKICAgICAgICB2YXIgbyA9IHt9OwogICAgICAgIGlmICh4bWwubm9kZVR5cGU9PTEpIHsgICAvLyBlbGVtZW50IG5vZGUgLi4KICAgICAgICAgICBpZiAoeG1sLmF0dHJpYnV0ZXMubGVuZ3RoKSAgIC8vIGVsZW1lbnQgd2l0aCBhdHRyaWJ1dGVzICAuLgogICAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTx4bWwuYXR0cmlidXRlcy5sZW5ndGg7IGkrKykKICAgICAgICAgICAgICAgICBvWyJAIit4bWwuYXR0cmlidXRlc1tpXS5ub2RlTmFtZV0gPSAoeG1sLmF0dHJpYnV0ZXNbaV0ubm9kZVZhbHVlfHwiIikudG9TdHJpbmcoKTsKICAgICAgICAgICBpZiAoeG1sLmZpcnN0Q2hpbGQpIHsgLy8gZWxlbWVudCBoYXMgY2hpbGQgbm9kZXMgLi4KICAgICAgICAgICAgICB2YXIgdGV4dENoaWxkPTAsIGNkYXRhQ2hpbGQ9MCwgaGFzRWxlbWVudENoaWxkPWZhbHNlOwogICAgICAgICAgICAgIGZvciAodmFyIG49eG1sLmZpcnN0Q2hpbGQ7IG47IG49bi5uZXh0U2libGluZykgewogICAgICAgICAgICAgICAgIGlmIChuLm5vZGVUeXBlPT0xKSBoYXNFbGVtZW50Q2hpbGQgPSB0cnVlOwogICAgICAgICAgICAgICAgIGVsc2UgaWYgKG4ubm9kZVR5cGU9PTMgJiYgbi5ub2RlVmFsdWUubWF0Y2goL1teIFxmXG5cclx0XHZdLykpIHRleHRDaGlsZCsrOyAvLyBub24td2hpdGVzcGFjZSB0ZXh0CiAgICAgICAgICAgICAgICAgZWxzZSBpZiAobi5ub2RlVHlwZT09NCkgY2RhdGFDaGlsZCsrOyAvLyBjZGF0YSBzZWN0aW9uIG5vZGUKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYgKGhhc0VsZW1lbnRDaGlsZCkgewogICAgICAgICAgICAgICAgIGlmICh0ZXh0Q2hpbGQgPCAyICYmIGNkYXRhQ2hpbGQgPCAyKSB7IC8vIHN0cnVjdHVyZWQgZWxlbWVudCB3aXRoIGV2dGwuIGEgc2luZ2xlIHRleHQgb3IvYW5kIGNkYXRhIG5vZGUgLi4KICAgICAgICAgICAgICAgICAgICBYLnJlbW92ZVdoaXRlKHhtbCk7CiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbj14bWwuZmlyc3RDaGlsZDsgbjsgbj1uLm5leHRTaWJsaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgaWYgKG4ubm9kZVR5cGUgPT0gMykgIC8vIHRleHQgbm9kZQogICAgICAgICAgICAgICAgICAgICAgICAgIG9bIiN0ZXh0Il0gPSBYLmVzY2FwZShuLm5vZGVWYWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobi5ub2RlVHlwZSA9PSA0KSAgLy8gY2RhdGEgbm9kZQogICAgICAgICAgICAgICAgICAgICAgICAgIG9bIiNjZGF0YSJdID0gWC5lc2NhcGUobi5ub2RlVmFsdWUpOwogICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9bbi5ub2RlTmFtZV0pIHsgIC8vIG11bHRpcGxlIG9jY3VyZW5jZSBvZiBlbGVtZW50IC4uCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9bbi5ub2RlTmFtZV0gaW5zdGFuY2VvZiBBcnJheSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvW24ubm9kZU5hbWVdW29bbi5ub2RlTmFtZV0ubGVuZ3RoXSA9IFgudG9PYmoobik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9bbi5ub2RlTmFtZV0gPSBbb1tuLm5vZGVOYW1lXSwgWC50b09iaihuKV07CiAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgIGVsc2UgIC8vIGZpcnN0IG9jY3VyZW5jZSBvZiBlbGVtZW50Li4KICAgICAgICAgICAgICAgICAgICAgICAgICBvW24ubm9kZU5hbWVdID0gWC50b09iaihuKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBtaXhlZCBjb250ZW50CiAgICAgICAgICAgICAgICAgICAgaWYgKCF4bWwuYXR0cmlidXRlcy5sZW5ndGgpCiAgICAgICAgICAgICAgICAgICAgICAgbyA9IFguZXNjYXBlKFguaW5uZXJYbWwoeG1sKSk7CiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgIG9bIiN0ZXh0Il0gPSBYLmVzY2FwZShYLmlubmVyWG1sKHhtbCkpOwogICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgZWxzZSBpZiAodGV4dENoaWxkKSB7IC8vIHB1cmUgdGV4dAogICAgICAgICAgICAgICAgIGlmICgheG1sLmF0dHJpYnV0ZXMubGVuZ3RoKQogICAgICAgICAgICAgICAgICAgIG8gPSBYLmVzY2FwZShYLmlubmVyWG1sKHhtbCkpOwogICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBvWyIjdGV4dCJdID0gWC5lc2NhcGUoWC5pbm5lclhtbCh4bWwpKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgZWxzZSBpZiAoY2RhdGFDaGlsZCkgeyAvLyBjZGF0YQogICAgICAgICAgICAgICAgIGlmIChjZGF0YUNoaWxkID4gMSkKICAgICAgICAgICAgICAgICAgICBvID0gWC5lc2NhcGUoWC5pbm5lclhtbCh4bWwpKTsKICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbj14bWwuZmlyc3RDaGlsZDsgbjsgbj1uLm5leHRTaWJsaW5nKQogICAgICAgICAgICAgICAgICAgICAgIG9bIiNjZGF0YSJdID0gWC5lc2NhcGUobi5ub2RlVmFsdWUpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICB9CiAgICAgICAgICAgaWYgKCF4bWwuYXR0cmlidXRlcy5sZW5ndGggJiYgIXhtbC5maXJzdENoaWxkKSBvID0gbnVsbDsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAoeG1sLm5vZGVUeXBlPT05KSB7IC8vIGRvY3VtZW50Lm5vZGUKICAgICAgICAgICBvID0gWC50b09iaih4bWwuZG9jdW1lbnRFbGVtZW50KTsKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgICAgIGFsZXJ0KCJ1bmhhbmRsZWQgbm9kZSB0eXBlOiAiICsgeG1sLm5vZGVUeXBlKTsKICAgICAgICByZXR1cm4gbzsKICAgICB9LAogICAgIHRvSnNvbjogZnVuY3Rpb24obywgbmFtZSwgaW5kKSB7CiAgICAgICAgdmFyIGpzb24gPSBuYW1lID8gKCJcIiIrbmFtZSsiXCIiKSA6ICIiOwogICAgICAgIGlmIChvIGluc3RhbmNlb2YgQXJyYXkpIHsKICAgICAgICAgICBmb3IgKHZhciBpPTAsbj1vLmxlbmd0aDsgaTxuOyBpKyspCiAgICAgICAgICAgICAgb1tpXSA9IFgudG9Kc29uKG9baV0sICIiLCBpbmQrIlx0Iik7CiAgICAgICAgICAganNvbiArPSAobmFtZT8iOlsiOiJbIikgKyAoby5sZW5ndGggPiAxID8gKCJcbiIraW5kKyJcdCIrby5qb2luKCIsXG4iK2luZCsiXHQiKSsiXG4iK2luZCkgOiBvLmpvaW4oIiIpKSArICJdIjsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAobyA9PSBudWxsKQogICAgICAgICAgIGpzb24gKz0gKG5hbWUmJiI6IikgKyAibnVsbCI7CiAgICAgICAgZWxzZSBpZiAodHlwZW9mKG8pID09ICJvYmplY3QiKSB7CiAgICAgICAgICAgdmFyIGFyciA9IFtdOwogICAgICAgICAgIGZvciAodmFyIG0gaW4gbykKICAgICAgICAgICAgICBhcnJbYXJyLmxlbmd0aF0gPSBYLnRvSnNvbihvW21dLCBtLCBpbmQrIlx0Iik7CiAgICAgICAgICAganNvbiArPSAobmFtZT8iOnsiOiJ7IikgKyAoYXJyLmxlbmd0aCA+IDEgPyAoIlxuIitpbmQrIlx0IithcnIuam9pbigiLFxuIitpbmQrIlx0IikrIlxuIitpbmQpIDogYXJyLmpvaW4oIiIpKSArICJ9IjsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAodHlwZW9mKG8pID09ICJzdHJpbmciKQogICAgICAgICAgIGpzb24gKz0gKG5hbWUmJiI6IikgKyAiXCIiICsgby50b1N0cmluZygpICsgIlwiIjsKICAgICAgICBlbHNlCiAgICAgICAgICAganNvbiArPSAobmFtZSYmIjoiKSArIG8udG9TdHJpbmcoKTsKICAgICAgICByZXR1cm4ganNvbjsKICAgICB9LAogICAgIGlubmVyWG1sOiBmdW5jdGlvbihub2RlKSB7CiAgICAgICAgdmFyIHMgPSAiIgogICAgICAgIGlmICgiaW5uZXJIVE1MIiBpbiBub2RlKQogICAgICAgICAgIHMgPSBub2RlLmlubmVySFRNTDsKICAgICAgICBlbHNlIHsKICAgICAgICAgICB2YXIgYXNYbWwgPSBmdW5jdGlvbihuKSB7CiAgICAgICAgICAgICAgdmFyIHMgPSAiIjsKICAgICAgICAgICAgICBpZiAobi5ub2RlVHlwZSA9PSAxKSB7CiAgICAgICAgICAgICAgICAgcyArPSAiPCIgKyBuLm5vZGVOYW1lOwogICAgICAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTxuLmF0dHJpYnV0ZXMubGVuZ3RoO2krKykKICAgICAgICAgICAgICAgICAgICBzICs9ICIgIiArIG4uYXR0cmlidXRlc1tpXS5ub2RlTmFtZSArICI9XCIiICsgKG4uYXR0cmlidXRlc1tpXS5ub2RlVmFsdWV8fCIiKS50b1N0cmluZygpICsgIlwiIjsKICAgICAgICAgICAgICAgICBpZiAobi5maXJzdENoaWxkKSB7CiAgICAgICAgICAgICAgICAgICAgcyArPSAiPiI7CiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYz1uLmZpcnN0Q2hpbGQ7IGM7IGM9Yy5uZXh0U2libGluZykKICAgICAgICAgICAgICAgICAgICAgICBzICs9IGFzWG1sKGMpOwogICAgICAgICAgICAgICAgICAgIHMgKz0gIjwvIituLm5vZGVOYW1lKyI+IjsKICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIHMgKz0gIi8+IjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgZWxzZSBpZiAobi5ub2RlVHlwZSA9PSAzKQogICAgICAgICAgICAgICAgIHMgKz0gbi5ub2RlVmFsdWU7CiAgICAgICAgICAgICAgZWxzZSBpZiAobi5ub2RlVHlwZSA9PSA0KQogICAgICAgICAgICAgICAgIHMgKz0gIjwhW0NEQVRBWyIgKyBuLm5vZGVWYWx1ZSArICJdXT4iOwogICAgICAgICAgICAgIHJldHVybiBzOwogICAgICAgICAgIH07CiAgICAgICAgICAgZm9yICh2YXIgYz1ub2RlLmZpcnN0Q2hpbGQ7IGM7IGM9Yy5uZXh0U2libGluZykKICAgICAgICAgICAgICBzICs9IGFzWG1sKGMpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gczsKICAgICB9LAogICAgIGVzY2FwZTogZnVuY3Rpb24odHh0KSB7CiAgICAgICAgcmV0dXJuIHR4dC5yZXBsYWNlKC9bXFxdL2csICJcXFxcIikKICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1tcIl0vZywgJ1xcIicpCiAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9bXG5dL2csICdcXG4nKQogICAgICAgICAgICAgICAgICAucmVwbGFjZSgvW1xyXS9nLCAnXFxyJyk7CiAgICAgfSwKICAgICByZW1vdmVXaGl0ZTogZnVuY3Rpb24oZSkgewogICAgICAgIGUubm9ybWFsaXplKCk7CiAgICAgICAgZm9yICh2YXIgbiA9IGUuZmlyc3RDaGlsZDsgbjsgKSB7CiAgICAgICAgICAgaWYgKG4ubm9kZVR5cGUgPT0gMykgeyAgLy8gdGV4dCBub2RlCiAgICAgICAgICAgICAgaWYgKCFuLm5vZGVWYWx1ZS5tYXRjaCgvW14gXGZcblxyXHRcdl0vKSkgeyAvLyBwdXJlIHdoaXRlc3BhY2UgdGV4dCBub2RlCiAgICAgICAgICAgICAgICAgdmFyIG54dCA9IG4ubmV4dFNpYmxpbmc7CiAgICAgICAgICAgICAgICAgZS5yZW1vdmVDaGlsZChuKTsKICAgICAgICAgICAgICAgICBuID0gbnh0OwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgbiA9IG4ubmV4dFNpYmxpbmc7CiAgICAgICAgICAgfQogICAgICAgICAgIGVsc2UgaWYgKG4ubm9kZVR5cGUgPT0gMSkgeyAgLy8gZWxlbWVudCBub2RlCiAgICAgICAgICAgICAgWC5yZW1vdmVXaGl0ZShuKTsKICAgICAgICAgICAgICBuID0gbi5uZXh0U2libGluZzsKICAgICAgICAgICB9CiAgICAgICAgICAgZWxzZSAgICAgICAgICAgICAgICAgICAgICAvLyBhbnkgb3RoZXIgbm9kZQogICAgICAgICAgICAgIG4gPSBuLm5leHRTaWJsaW5nOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZTsKICAgICB9CiAgfTsKICBpZiAoeG1sLm5vZGVUeXBlID09IDkpIC8vIGRvY3VtZW50IG5vZGUKICAgICB4bWwgPSB4bWwuZG9jdW1lbnRFbGVtZW50OwogIHZhciBqc29uID0gWC50b0pzb24oWC50b09iaihYLnJlbW92ZVdoaXRlKHhtbCkpLCB4bWwubm9kZU5hbWUsICJcdCIpOwogIHJldHVybiAie1xuIiArIHRhYiArICh0YWIgPyBqc29uLnJlcGxhY2UoL1x0L2csIHRhYikgOiBqc29uLnJlcGxhY2UoL1x0fFxuL2csICIiKSkgKyAiXG59IjsKfQoKY2xhc3MgUml4eHlYIHsKICBnZXRJbmZvKCkgewogICAgcmV0dXJuIHsKICAgICAgY29sb3IxOiAiIzc3M2MwMCIsCiAgICAgIGNvbG9yMjogIiM1ZjMwMDAiLAogICAgICBpZDogIlJpeHh5WCIsCiAgICAgIG5hbWU6ICJSaXh4eVgiLAogICAgICBkZXNjcmlwdGlvbjogJ1tkZWxldGVkXScsCiAgICAgIGJsb2NrczogWwogICAgICAgIHsKICAgICAgICAgIG9wY29kZTogJ25vdEVxdWFscycsCiAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkJPT0xFQU4sCiAgICAgICAgICB0ZXh0OiAnW1RFWFRfMV0gIT0gW1RFWFRfMl0nLAogICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgIFRFWFRfMTogewogICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICdSaXh4eVgnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIFRFWFRfMjogewogICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICdUeXJ1bnRYJwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBvcGNvZGU6ICdjb2xvcicsCiAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgdGV4dDogJ2NvbG9yIFtDT0xPUl0gaW4gaGV4JywKICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICBDT0xPUjogewogICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLkNPTE9SLAogICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJyNmZjAwMDAnCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG9wY29kZTogJ3JldHVyblRydWUnLAogICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5CT09MRUFOLAogICAgICAgICAgdGV4dDogJ3RydWUnLAogICAgICAgICAgYXJndW1lbnRzOiB7fQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgb3Bjb2RlOiAncmV0dXJuRmFsc2UnLAogICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5CT09MRUFOLAogICAgICAgICAgdGV4dDogJ2ZhbHNlJywKICAgICAgICAgIGFyZ3VtZW50czoge30KICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG9wY29kZTogJ2lmRWxzZVN0cmluZycsCiAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgdGV4dDogJ2lmIFtCT09MXSB0aGVuIFtURVhUXzFdIGVsc2UgW1RFWFRfMl0nLAogICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgIEJPT0w6IHsKICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5CT09MRUFOLAogICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJycKICAgICAgICAgICAgfSwKICAgICAgICAgICAgVEVYVF8xOiB7CiAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJ1JpeHh5WCcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgVEVYVF8yOiB7CiAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJ1R5cnVudFgnCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG9wY29kZTogJ2lmU3RyaW5nJywKICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICB0ZXh0OiAnaWYgW0JPT0xdIHRoZW4gW1RFWFRdJywKICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICBCT09MOiB7CiAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuQk9PTEVBTiwKICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICcnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIFRFWFQ6IHsKICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAnUml4eHlYJwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBvcGNvZGU6ICdleHRyYWN0VGV4dEJldHdlZW5Ub0NoYXJhY3RlcnMnLAogICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgIHRleHQ6ICdleHRyYWN0IHRleHQgW1RFWFRdIGJldHdlZW4gW05VTV8xXSB0byBbTlVNXzJdIGNoYXJhY3RlcnMnLAogICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgIFRFWFQ6IHsKICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAnUml4eHlYIGlzIGNvb2wsIHJpZ2h0PycKICAgICAgICAgICAgfSwKICAgICAgICAgICAgTlVNXzE6IHsKICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5OVU1CRVIsCiAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAxCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIE5VTV8yOiB7CiAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuTlVNQkVSLAogICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogNgogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBvcGNvZGU6ICdyZXR1cm5TdHJpbmcnLAogICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgIHRleHQ6ICdbVEVYVF0gYXMgdGV4dCcsCiAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgVEVYVDogewogICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICdSaXh4eVggaXMgY29vbCwgcmlnaHQ/JwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBvcGNvZGU6ICdyZXR1cm5PYmplY3QnLAogICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgIHRleHQ6ICdKYXZhU2NyaXB0IG9iamVjdCBbT0JKX05BTUVdIHdpdGggdmFsdWUgW09CSl9WQUxdJywKICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICBPQkpfTkFNRTogewogICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICdTdHJpbmcnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIE9CSl9WQUw6IHsKICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAnUml4eHlYIGlzIGNvb2wsIHJpZ2h0PycKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgb3Bjb2RlOiAnaXNUaGVTYW1lVHlwZUFzJywKICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQk9PTEVBTiwKICAgICAgICAgIHRleHQ6ICdbVEVYVF8xXSBpcyB0aGUgc2FtZSB0eXBlIGFzIFtURVhUXzJdPycsCiAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgVEVYVF8xOiB7CiAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJ1JpeHh5WCBpcyBjb29sLCByaWdodD8nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIFRFWFRfMjogewogICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICdSaXh4eVggaXMgY29vbCwgcmlnaHQ/JwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBvcGNvZGU6ICdyZXZlcnNlVHh0JywKICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICB0ZXh0OiAncmV2ZXJzZSB0ZXh0IFtURVhUXScsCiAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgVEVYVDogewogICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICdYeXh4aVInCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG9wY29kZTogJ3JldHVybkNvdW50JywKICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICB0ZXh0OiAnY291bnRlcicsCiAgICAgICAgICBhcmd1bWVudHM6IHt9CiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBvcGNvZGU6ICdpbmNyZW1lbnRDb3VudEJ5TnVtJywKICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgIHRleHQ6ICdpbmNyZW1lbnQgY291bnRlciBieSBbTlVNXScsCiAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgTlVNOiB7CiAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuTlVNQkVSLAogICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogMQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBvcGNvZGU6ICdkZWNyZW1lbnRDb3VudEJ5TnVtJywKICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgIHRleHQ6ICdkZWNyZW1lbnQgY291bnRlciBieSBbTlVNXScsCiAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgTlVNOiB7CiAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuTlVNQkVSLAogICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogMQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBvcGNvZGU6ICdzZXRDb3VudCcsCiAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICB0ZXh0OiAnc2V0IGNvdW50ZXIgdG8gW05VTV0nLAogICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgIE5VTTogewogICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLk5VTUJFUiwKICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IDAKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgb3Bjb2RlOiAndG9VcHBlcmNhc2UnLAogICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgIHRleHQ6ICdbVEVYVF0gdG8gdXBwZXJjYXNlJywKICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICBURVhUOiB7CiAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJ3JpeHh5eCcKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgb3Bjb2RlOiAndG9Mb3dlcmNhc2UnLAogICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgIHRleHQ6ICdbVEVYVF0gdG8gbG93ZXJjYXNlJywKICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICBURVhUOiB7CiAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJ1JJWFhZWCcKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgb3Bjb2RlOiAndG9DYXBpdGFsaXplJywKICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICB0ZXh0OiAnY2FwaXRhbGl6ZSBbVEVYVF0nLAogICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgIFRFWFQ6IHsKICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAncml4eHlYIGlzIGNvb2wsIHJpZ2h0PycKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgb3Bjb2RlOiAnaXNKc05hbicsCiAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkJPT0xFQU4sCiAgICAgICAgICB0ZXh0OiAnaXMgSmF2YVNjcmlwdCBOYU4gW09CSl0nLAogICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgIE9CSjogewogICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLk5VTUJFUiwKICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IE5hTgogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBvcGNvZGU6ICdyZXR1cm5OdW0nLAogICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgIHRleHQ6ICdbTlVNXSBhcyBudW1iZXInLAogICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgIE5VTTogewogICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLk5VTUJFUiwKICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IDEKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgb3Bjb2RlOiAncmV0dXJuQm9vbCcsCiAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkJPT0xFQU4sCiAgICAgICAgICB0ZXh0OiAnW0JPT0xdIGFzIGJvb2xlYW4nLAogICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgIEJPT0w6IHsKICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAndHJ1ZScKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgb3Bjb2RlOiAnYmluVG9UeHQnLAogICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgIHRleHQ6ICdiaW5hcnkgW0JJTl0gdG8gdGV4dCcsCiAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgQklOOiB7CiAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJzAxMDEwMDEwIDAxMTAxMDAxIDAxMTExMDAwIDAxMTExMDAwIDAxMTExMDAxIDAxMDExMDAwJwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBvcGNvZGU6ICd0eHRUb0JpbicsCiAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgdGV4dDogJ3RleHQgW1RFWFRdIHRvIGJpbmFyeScsCiAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgVEVYVDogewogICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICdSaXh4eVgnCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG9wY29kZTogJ3JlcGVhdFR4dFRpbWVzJywKICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICB0ZXh0OiAncmVwZWF0IHRleHQgW1RFWFRdIFtOVU1dIHRpbWVzJywKICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICBURVhUOiB7CiAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJ3gnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIE5VTTogewogICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLk5VTUJFUiwKICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IDIKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgb3Bjb2RlOiAncmV0dXJuSnNDb2RlJywKICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICB0ZXh0OiAnZXhlY3V0ZSBKYXZhU2NyaXB0IGNvZGUgW0pTX0NPREVdJywKICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICBKU19DT0RFOiB7CiAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJ1wiUmlcIiArIFwieHhcIiArIFwieVhcIicKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgb3Bjb2RlOiAnanNvblBhcnNlJywKICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICB0ZXh0OiAnSlNPTi5wYXJzZShbVEVYVF0pJywKICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICBURVhUOiB7CiAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJ1wiUml4eHlYXCInCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG9wY29kZTogJ2V4ZWNKc0NvZGUnLAogICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgdGV4dDogJ2V4ZWN1dGUgSmF2YVNjcmlwdCBjb2RlIFtKU19DT0RFXScsCiAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgSlNfQ09ERTogewogICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICdcIlJpXCIgKyBcInh4XCIgKyBcInlYXCInCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG9wY29kZTogJ3JldHVybkVOdW0nLAogICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgIHRleHQ6ICdlJywgLy8gZQogICAgICAgICAgYXJndW1lbnRzOiB7fQogICAgICAgIH0sCgkJCQl7CgkJCQkJb3Bjb2RlOiAnc3RhcnRUaW1lJywKCQkJCQlibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCgkJCQkJdGV4dDogJ3N0YXJ0IG1lYXN1cmluZyB0aW1lJywKCQkJCQlhcmd1bWVudHM6IHt9CgkJCQl9LAoJCQkJewoJCQkJCW9wY29kZTogJ2VuZFRpbWUnLAoJCQkJCWJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKCQkJCQl0ZXh0OiAnZW5kIG1lYXN1cmluZyB0aW1lJywKCQkJCQlhcmd1bWVudHM6IHt9CgkJCQl9LAoJCQkJewoJCQkJCW9wY29kZTogJ3JldHVyblRpbWUnLAoJCQkJCWJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCgkJCQkJdGV4dDogJ3RpbWUnLAoJCQkJCWFyZ3VtZW50czoge30KCQkJCX0KICAgICAgXQogICAgfQogIH0KICBub3RFcXVhbHMoYXJncykgewogICAgdmFyIGlzRXF1YWxzID0gYXJncy5URVhUXzEgIT0gYXJncy5URVhUXzI7CiAgICByZXR1cm4gaXNFcXVhbHM7CiAgfQogIGNvbG9yKGFyZ3MpIHsKICAgIHJldHVybiBhcmdzLkNPTE9SOwogIH0KICByZXR1cm5UcnVlKGFyZ3MpIHsKICAgIHJldHVybiB0cnVlOwogIH0KICByZXR1cm5GYWxzZShhcmdzKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQogIGlmRWxzZVN0cmluZyhhcmdzKSB7CiAgICBpZiAoYXJncy5CT09MKSB7CiAgICAgIHJldHVybiBhcmdzLlRFWFRfMTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBhcmdzLlRFWFRfMjsKICAgIH0KICB9CiAgaWZTdHJpbmcoYXJncykgewogICAgaWYgKGFyZ3MuQk9PTCkgewogICAgICByZXR1cm4gYXJncy5URVhUOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBleHRyYWN0VGV4dEJldHdlZW5Ub0NoYXJhY3RlcnMoYXJncykgewogICAgdmFyIHR4dCA9IGFyZ3MuVEVYVC50b1N0cmluZygpOwogICAgdmFyIGNoYXIxID0gYXJncy5OVU1fMSAtIDE7CiAgICB2YXIgY2hhcjIgPSBhcmdzLk5VTV8yOwogICAgcmV0dXJuIHR4dC5zbGljZShjaGFyMSwgY2hhcjIpOwogIH0KICByZXR1cm5TdHJpbmcoYXJncykgewogICAgcmV0dXJuIGFyZ3MuVEVYVC50b1N0cmluZygpOwogIH0KICByZXR1cm5PYmplY3QoYXJncykgewogICAgdHJ5IHsKICAgICAgcmV0dXJuIGV2YWwoIm5ldyAiICsgYXJncy5PQkpfTkFNRSArICIoXCIiICsgYXJncy5PQkpfVkFMICsgIlwiKTsiKTsKICAgIH0gY2F0Y2goZXJyKSB7CiAgICAgIHJldHVybiBlcnI7CiAgICB9CiAgfQogIGlzVGhlU2FtZVR5cGVBcyhhcmdzKSB7CiAgICByZXR1cm4gKHR5cGVvZiBhcmdzLlRFWFRfMSA9PSB0eXBlb2YgYXJncy5URVhUXzIpOwogIH0KICByZXZlcnNlVHh0KGFyZ3MpIHsKICAgIHZhciBlbXB0eVN0ciA9ICIiOwogICAgdmFyIHR4dCA9IGFyZ3MuVEVYVC50b1N0cmluZygpOwogICAgdmFyIGxvY2FsQ291bnQgPSBhcmdzLlRFWFQubGVuZ3RoIC0gMTsKICAgIHdoaWxlIChsb2NhbENvdW50ICE9IC0xKSB7CiAgICAgIGVtcHR5U3RyID0gZW1wdHlTdHIgKyB0eHQuY2hhckF0KGxvY2FsQ291bnQpOwogICAgICBsb2NhbENvdW50IC09IDE7CiAgICB9CiAgICByZXR1cm4gZW1wdHlTdHI7CiAgfQogIHJldHVybkNvdW50KGFyZ3MpIHsKICAgIHJldHVybiBjb3VudDsKICB9CiAgaW5jcmVtZW50Q291bnRCeU51bShhcmdzKSB7CiAgICBpZiAoKGNvdW50LnRvU3RyaW5nKCkuaW5kZXhPZigiLSIpID09IC0xKSB8fCAoYXJncy5OVU0udG9TdHJpbmcoKS5pbmRleE9mKCItIikgPT0gLTEpKSB7CiAgICAgIGNvdW50ICs9IE1hdGguZmxvb3IoYXJncy5OVU0pOwogICAgfSBlbHNlIHsKICAgICAgY291bnQgPSAwOwogICAgfQogIH0KICBkZWNyZW1lbnRDb3VudEJ5TnVtKGFyZ3MpIHsKICAgIGlmICgoY291bnQgLSBNYXRoLmZsb29yKGFyZ3MuTlVNKSkudG9TdHJpbmcoKS5pbmRleE9mKCItIikgPT0gLTEpIHsKICAgICAgY291bnQgLT0gTWF0aC5mbG9vcihhcmdzLk5VTSk7CiAgICB9IGVsc2UgewogICAgICBjb3VudCA9IDA7CiAgICB9CiAgfQogIHNldENvdW50KGFyZ3MpIHsKICAgIGlmICgoY291bnQudG9TdHJpbmcoKS5pbmRleE9mKCItIikgPT0gLTEpICYmIChhcmdzLk5VTS50b1N0cmluZygpLmluZGV4T2YoIi0iKSA9PSAtMSkpIHsKICAgICAgY291bnQgPSBNYXRoLmZsb29yKGFyZ3MuTlVNKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvdW50ID0gMDsKICAgIH0KICB9CiAgdG9VcHBlcmNhc2UoYXJncykgewogICAgcmV0dXJuIGFyZ3MuVEVYVC50b1VwcGVyQ2FzZSgpOwogIH0KICB0b0xvd2VyY2FzZShhcmdzKSB7CiAgICByZXR1cm4gYXJncy5URVhULnRvTG93ZXJDYXNlKCk7CiAgfQogIHRvQ2FwaXRhbGl6ZShhcmdzKSB7CiAgICByZXR1cm4gYXJncy5URVhULmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgYXJncy5URVhULnNsaWNlKDEpOwogIH0KICBpc0pzTmFuKGFyZ3MpIHsKICAgIHJldHVybiBpc05hTihhcmdzLk9CSik7CiAgfQogIHJldHVybk51bShhcmdzKSB7CiAgICByZXR1cm4gTWF0aC5mbG9vcihhcmdzLk5VTSk7CiAgfQogIHJldHVybkJvb2woYXJncykgewogICAgdHJ5IHsKICAgICAgaWYgKChKU09OLnBhcnNlKGFyZ3MuQk9PTCkudG9TdHJpbmcoKSA9PSAidHJ1ZSIpIHx8IChKU09OLnBhcnNlKGFyZ3MuQk9PTCkudG9TdHJpbmcoKSA9PSAiZmFsc2UiKSkgewogICAgICAgIHJldHVybiBKU09OLnBhcnNlKGFyZ3MuQk9PTCk7CiAgICAgIH0gZWxzZSBpZiAoSlNPTi5wYXJzZShhcmdzLkJPT0wpLnRvU3RyaW5nKCkgPT0gIjEiKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSBpZiAoSlNPTi5wYXJzZShhcmdzLkJPT0wpLnRvU3RyaW5nKCkgPT0gIjAiKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIHJldHVybiBlcnI7CiAgICB9CiAgfQogIGJpblRvVHh0KGFyZ3MpIHsKICAgIHZhciBiaW5hcnkgPSBhcmdzLkJJTi50b1N0cmluZygpOwogICAgcmV0dXJuIGJpbmFyeS5zcGxpdCgiICIpLm1hcCgoeCkgPT4geCA9IFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoeCwgMikpKS5qb2luKCIiKTsKICB9CiAgdHh0VG9CaW4oYXJncykgewogICAgdmFyIHRleHQgPSBhcmdzLlRFWFQudG9TdHJpbmcoKTsKICAgIHJldHVybiBBcnJheS5mcm9tKHRleHQpLm1hcCgoZWFjaCk9PmVhY2guY2hhckNvZGVBdCgwKS50b1N0cmluZygyKSkuam9pbigiICIpOwogIH0KICByZXBlYXRUeHRUaW1lcyhhcmdzKSB7CiAgICByZXR1cm4gYXJncy5URVhULnJlcGVhdChNYXRoLmZsb29yKGFyZ3MuTlVNKSk7CiAgfQogIHJldHVybkpzQ29kZShhcmdzKSB7CiAgICB2YXIgZnVuYyA9IGV2YWwoYXJncy5KU19DT0RFKTsKICAgIHJldHVybiBmdW5jOwogIH0KICBqc29uUGFyc2UoYXJncykgewogICAgcmV0dXJuIEpTT04ucGFyc2UoYXJncy5URVhULnRvU3RyaW5nKCkpOwogIH0KICBleGVjSnNDb2RlKGFyZ3MpIHsKICAgIHZhciBmdW5jID0gbmV3IEZ1bmN0aW9uKGFyZ3MuSlNfQ09ERSk7CiAgfQogIHJldHVybkVOdW0oYXJncykgewogICAgcmV0dXJuIE1hdGguRQogIH0KCXN0YXJ0VGltZShhcmdzKSB7CgkJdGltZSA9IDAKCQlpc01lYXN1cmUgPSB0cnVlCgl9CgllbmRUaW1lKGFyZ3MpIHsKCQlpc01lYXN1cmUgPSBmYWxzZQoJfQoJcmV0dXJuVGltZShhcmdzKSB7CgkJaWYgKGlzTWVhc3VyZSA9PSB0cnVlKSB7CgkJCXRpbWUgKz0gMQoJCX0KCQlyZXR1cm4gdGltZQoJfQp9ClNjcmF0Y2guZXh0ZW5zaW9ucy5yZWdpc3RlcihuZXcgUml4eHlYKCkpOwo=","https://extensions.turbowarp.org/TheShovel/ShovelUtils.js","https://extensions.turbowarp.org/cloudlink.js","https://extensions.turbowarp.org/Skyhigh173/json.js","https://extensions.turbowarp.org/utilities.js","https://extensions.turbowarp.org/Lily/MoreTimers.js"],"bakeExtensions":true,"maxTextureDimension":2048}